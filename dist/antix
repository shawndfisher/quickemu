#!/usr/bin/env bash

PRETTY_NAME="Antix"
HOMEPAGE="https://antixlinux.com/"
INFO="Antix|Debian|-|https://antixlinux.com/|Fast, lightweight and easy to install systemd-free linux live CD distribution based on Debian Stable for Intel-AMD x86 compatible systems."

function dist_releases() {
    echo 23.1 23 22 21
}

function dist_editions() {
    echo net-sysv core-sysv base-sysv full-sysv net-runit core-runit base-runit full-runit
}

function dist_image() {
    local HASH=""
    local ISO="antiX-${RELEASE}"
    local README="README"
    local URL="https://sourceforge.net/projects/antix-linux/files/Final/antiX-${RELEASE}"

    # antiX uses a different URL and ISO naming for runit editions
    if [[ "${EDITION}" == *"runit"* ]];then
        ISO="${ISO}-runit"
        README="README2"
        case ${RELEASE} in
            21) URL="${URL}/runit-bullseye";;
            *)  URL="${URL}/runit-antiX-${RELEASE}";;
        esac
    fi
    case ${EDITION} in
        base-*) ISO="${ISO}_x64-base.iso";;
        core-*) ISO="${ISO}_x64-core.iso";;
        full-*) ISO="${ISO}_x64-full.iso";;
        net-*)  ISO="${ISO}-net_x64-net.iso";;
    esac
    HASH=$(web_pipe "${URL}/${README}.txt" | grep "${ISO}" | cut -d' ' -f1 | head -1)
    echo "${URL}/${ISO} ${HASH}"
}

# vim:tabstop=4:shiftwidth=4:expandtab
