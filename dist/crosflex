#!/usr/bin/env bash

INFO="ChromeOS Flex|-|https://chromeenterprise.google/intl/en_uk/os/chromeosflex/|ChromeOS Flex is a sustainable way to modernise devices that you already own."

GUEST="cros"

function dist_releases() {
    echo latest
}

function dist_image_get() {
    local HASH=""
    local ISO="${RELEASE}.bin.zip"
    local URL="https://dl.google.com/chromeos-flex/images"
    echo "${URL}/${ISO} ${HASH}"
}

function dist_image_post_get() {
    if [[ ${ISO} = *".zip"* ]]; then
        unzip ${VM_PATH}/${ISO} -d ${VM_PATH}
        rm -f "${VM_PATH}/${ISO}"
        ISO="$(ls -1 "${VM_PATH}/"*.bin | cut -d'/' -f2)"
    fi
}

function dist_vm_option_tweak() {
    echo "boot=\"legacy\"" >> "${CONF_FILE}"
}

# vim:tabstop=4:shiftwidth=4:expandtab
